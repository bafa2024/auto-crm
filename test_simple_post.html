<!DOCTYPE html>
<html>
<head>
    <title>Simple POST Test</title>
</head>
<body>
    <h1>Test Employee Create API</h1>
    
    <button onclick="testWithFetch()">Test with Fetch</button>
    <button onclick="testWithXHR()">Test with XMLHttpRequest</button>
    <button onclick="testForm()">Test with Form Submit</button>
    
    <h2>Results:</h2>
    <pre id="results"></pre>
    
    <script>
    function log(msg) {
        document.getElementById('results').innerHTML += msg + '\n';
    }
    
    function testWithFetch() {
        log('\n=== Testing with Fetch ===');
        const url = '/acrm/api/employees/create';
        log('URL: ' + url);
        
        fetch(url, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                first_name: 'Fetch',
                last_name: 'Test',
                email: 'fetch' + Date.now() + '@test.com',
                password: 'test123',
                role: 'agent',
                status: 'active'
            })
        })
        .then(r => {
            log('Status: ' + r.status);
            log('Status Text: ' + r.statusText);
            return r.text();
        })
        .then(text => {
            log('Response: ' + text);
        })
        .catch(err => {
            log('Error: ' + err);
        });
    }
    
    function testWithXHR() {
        log('\n=== Testing with XMLHttpRequest ===');
        const url = '/acrm/api/employees/create';
        log('URL: ' + url);
        
        const xhr = new XMLHttpRequest();
        xhr.open('POST', url, true);
        xhr.setRequestHeader('Content-Type', 'application/json');
        
        xhr.onreadystatechange = function() {
            if (xhr.readyState === 4) {
                log('Status: ' + xhr.status);
                log('Response: ' + xhr.responseText);
            }
        };
        
        xhr.send(JSON.stringify({
            first_name: 'XHR',
            last_name: 'Test',
            email: 'xhr' + Date.now() + '@test.com',
            password: 'test123',
            role: 'agent',
            status: 'active'
        }));
    }
    
    function testForm() {
        log('\n=== Testing with Form Submit ===');
        const form = document.createElement('form');
        form.method = 'POST';
        form.action = '/acrm/api/employees/create';
        
        const data = {
            first_name: 'Form',
            last_name: 'Test',
            email: 'form' + Date.now() + '@test.com',
            password: 'test123',
            role: 'agent',
            status: 'active'
        };
        
        Object.keys(data).forEach(key => {
            const input = document.createElement('input');
            input.type = 'hidden';
            input.name = key;
            input.value = data[key];
            form.appendChild(input);
        });
        
        log('This will submit the form and leave this page...');
        // Uncomment to actually submit
        // document.body.appendChild(form);
        // form.submit();
    }
    </script>
</body>
</html>